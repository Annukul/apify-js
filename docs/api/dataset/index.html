<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Dataset · Apify SDK</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;&lt;a name=&quot;Dataset&quot;&gt;&lt;/a&gt;&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Dataset · Apify SDK"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sdk.apify.com/"/><meta property="og:description" content="&lt;p&gt;&lt;a name=&quot;Dataset&quot;&gt;&lt;/a&gt;&lt;/p&gt;
"/><meta property="og:image" content="https://sdk.apify.com/img/apify_logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sdk.apify.com/img/apify_logo.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/apify_logo.svg" alt="Apify SDK"/><h2 class="headerTitleWithLogo">Apify SDK</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class="siteNavGroupActive"><a href="/docs/guides/motivation" target="_self">Guide</a></li><li class=""><a href="/docs/examples/basiccrawler" target="_self">Examples</a></li><li class="siteNavGroupActive"><a href="/docs/api/apify" target="_self">Reference</a></li><li class=""><a href="https://github.com/apifytech/apify-js" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/guides/motivation">Motivation</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/gettingstarted">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/quickstart">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/whatisanactor">What is an Actor</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/environmentvariables">Environment Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/datastorage">Data Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/puppeteerliveview">Puppeteer Live View</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/api/apify">Apify</a></li><li class="navListItem"><a class="navItem" href="/docs/api/autoscaledpool">AutoscaledPool</a></li><li class="navListItem"><a class="navItem" href="/docs/api/basiccrawler">BasicCrawler</a></li><li class="navListItem"><a class="navItem" href="/docs/api/cheeriocrawler">CheerioCrawler</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/api/dataset">Dataset</a></li><li class="navListItem"><a class="navItem" href="/docs/api/keyvaluestore">KeyValueStore</a></li><li class="navListItem"><a class="navItem" href="/docs/api/liveviewserver">LiveViewServer</a></li><li class="navListItem"><a class="navItem" href="/docs/api/pseudourl">PseudoUrl</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteercrawler">PuppeteerCrawler</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteerpool">PuppeteerPool</a></li><li class="navListItem"><a class="navItem" href="/docs/api/request">Request</a></li><li class="navListItem"><a class="navItem" href="/docs/api/requestlist">RequestList</a></li><li class="navListItem"><a class="navItem" href="/docs/api/requestqueue">RequestQueue</a></li><li class="navListItem"><a class="navItem" href="/docs/api/utils">utils</a></li><li class="navListItem"><a class="navItem" href="/docs/api/log">utils.log</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteer">utils.puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/api/social">utils.social</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Dataset</h1></header><article><div><span><p><a name="Dataset"></a></p>
<p>The <code>Dataset</code> class represents a store for structured data where each object stored has the same attributes, such as online store products or real
estate offers. You can imagine it as a table, where each object is a row and its attributes are columns. Dataset is an append-only storage - you can
only add new records to it but you cannot modify or remove existing records. Typically it is used to store crawling results.</p>
<p>Do not instantiate this class directly, use the <a href="apify#module_Apify.openDataset"><code>Apify.openDataset()</code></a> function instead.</p>
<p><code>Dataset</code> stores its data either on local disk or in the Apify cloud, depending on whether the <code>APIFY_LOCAL_STORAGE_DIR</code> or <code>APIFY_TOKEN</code> environment
variables are set.</p>
<p>If the <code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is set, the data is stored in the local directory in the following files:</p>
<pre><code class="hljs"><span class="token punctuation">{</span><span class="token constant">APIFY_LOCAL_STORAGE_DIR</span><span class="token punctuation">}</span><span class="token operator">/</span>datasets<span class="token operator">/</span><span class="token punctuation">{</span><span class="token constant">DATASET_ID</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">{</span><span class="token constant">INDEX</span><span class="token punctuation">}</span><span class="token punctuation">.</span>json
</code></pre>
<p>Note that <code>{DATASET_ID}</code> is the name or ID of the dataset. The default dataset has ID: <code>default</code>, unless you override it by setting the
<code>APIFY_DEFAULT_DATASET_ID</code> environment variable. Each dataset item is stored as a separate JSON file, where <code>{INDEX}</code> is a zero-based index of the
item in the dataset.</p>
<p>If the <code>APIFY_TOKEN</code> environment variable is set but <code>APIFY_LOCAL_STORAGE_DIR</code> not, the data is stored in the
<a href="https://apify.com/docs/storage#dataset" target="_blank">Apify Dataset</a> cloud storage. Note that you can force usage of the cloud storage
also by passing the <code>forceCloud</code> option to <a href="apify#module_Apify.openDataset"><code>Apify.openDataset()</code></a> function, even if the <code>APIFY_LOCAL_STORAGE_DIR</code>
variable is set.</p>
<p><strong>Example usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="token comment">// Write a single row to the default dataset</span>
<span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">pushData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> col1<span class="token punctuation">:</span> <span class="token number">123</span><span class="token punctuation">,</span> col2<span class="token punctuation">:</span> <span class="token string">'val2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Open a named dataset</span>
<span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openDataset</span><span class="token punctuation">(</span><span class="token string">'some-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Write a single row</span>
<span class="token keyword">await</span> dataset<span class="token punctuation">.</span><span class="token function">pushData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Write multiple rows</span>
<span class="token keyword">await</span> dataset<span class="token punctuation">.</span><span class="token function">pushData</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar2'</span><span class="token punctuation">,</span> col2<span class="token punctuation">:</span> <span class="token string">'val2'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> col3<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><a href="dataset">Dataset</a>
<ul>
<li><a href="#Dataset+pushData"><code>.pushData(data)</code></a> ⇒ <code>Promise</code></li>
<li><a href="#Dataset+getData"><code>.getData([options])</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#Dataset+getInfo"><code>.getInfo()</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#Dataset+forEach"><code>.forEach(iteratee, [options], [index])</code></a> ⇒ <code>Promise</code></li>
<li><a href="#Dataset+map"><code>.map(iteratee, options)</code></a> ⇒ <code>Promise&lt;Array&gt;</code></li>
<li><a href="#Dataset+reduce"><code>.reduce(iteratee, memo, options)</code></a> ⇒ <code>Promise&lt;*&gt;</code></li>
<li><a href="#Dataset+delete"><code>.delete()</code></a> ⇒ <code>Promise</code></li>
</ul></li>
</ul>
<p><a name="Dataset+pushData"></a></p>
<h2><a class="anchor" aria-hidden="true" id="datasetpushdatadata-promise"></a><a href="#datasetpushdatadata-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.pushData(data)</code> ⇒ <code>Promise</code></h2>
<p>Stores an object or an array of objects to the dataset. The function returns a promise that resolves when the operation finishes. It has no result,
but throws on invalid args or other errors.</p>
<p><strong>IMPORTANT</strong>: Make sure to use the <code>await</code> keyword when calling <code>pushData()</code>, otherwise the actor process might finish before the data is stored!</p>
<p>The size of the data is limited by the receiving API and therefore <code>pushData()</code> will only allow objects whose JSON representation is smaller than 9MB.
When an array is passed, none of the included objects may be larger than 9MB, but the array itself may be of any size.</p>
<p>The function internally chunks the array into separate items and pushes them sequentially. The chunking process is stable (keeps order of data), but
it does not provide a transaction safety mechanism. Therefore, in the event of an uploading error (after several automatic retries), the function's
Promise will reject and the dataset will be left in a state where some of the items have already been saved to the dataset while other items from the
source array were not. To overcome this limitation, the developer may, for example, read the last item saved in the dataset and re-attempt the save of
the data from this item onwards to prevent duplicates.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td><td><code>Object</code> | <code>Array</code></td>
</tr>
<tr>
<td colspan="3"><p>Object or array of objects containing data to be stored in the default dataset.
The objects must be serializable to JSON and the JSON representation of each object must be smaller than 9MB.</p>
</td></tr></tbody>
</table>
<a name="Dataset+getData"></a>
<h2><a class="anchor" aria-hidden="true" id="datasetgetdata-options-promise-object"></a><a href="#datasetgetdata-options-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.getData([options])</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Returns items in the dataset based on the provided parameters. The returned object has the following structure:</p>
<pre><code class="hljs css language-javascript"><span class="token punctuation">{</span>
    items<span class="token punctuation">,</span> <span class="token comment">// Array|String|Buffer based on chosen format parameter.</span>
    total<span class="token punctuation">,</span> <span class="token comment">// Number</span>
    limit<span class="token punctuation">,</span> <span class="token comment">// Number</span>
    offset<span class="token punctuation">,</span> <span class="token comment">// Number</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>NOTE</strong>: If using dataset with local disk storage, the <code>format</code> option must be <code>json</code> and the following options are not supported: <code>unwind</code>,
<code>disableBodyParser</code>, <code>attachment</code>, <code>bom</code> and <code>simplified</code>. If you try to use them, you will receive an error.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[options]</code></td><td><code>Object</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>All <code>getData()</code> parameters are passed
  via an options object with the following keys:</p>
</td></tr><tr>
<td><code>[options.format]</code></td><td><code>String</code></td><td><code>&#x27;json&#x27;</code></td>
</tr>
<tr>
<td colspan="3"><p>Format of the <code>items</code> property, possible values are: <code>json</code>, <code>csv</code>, <code>xlsx</code>, <code>html</code>, <code>xml</code> and <code>rss</code>.</p>
</td></tr><tr>
<td><code>[options.offset]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Number of array elements that should be skipped at the start.</p>
</td></tr><tr>
<td><code>[options.limit]</code></td><td><code>Number</code></td><td><code>250000</code></td>
</tr>
<tr>
<td colspan="3"><p>Maximum number of array elements to return.</p>
</td></tr><tr>
<td><code>[options.desc]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the objects are sorted by <code>createdAt</code> in descending order.
  Otherwise they are sorted in ascending order.</p>
</td></tr><tr>
<td><code>[options.fields]</code></td><td><code>Array</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>An array of field names that will be included in the result. If omitted, all fields are included in the results.</p>
</td></tr><tr>
<td><code>[options.unwind]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Specifies a name of the field in the result objects that will be used to unwind the resulting objects.
  By default, the results are returned as they are.</p>
</td></tr><tr>
<td><code>[options.disableBodyParser]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then response from API will not be parsed.</p>
</td></tr><tr>
<td><code>[options.attachment]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the response will define the <code>Content-Disposition: attachment</code> HTTP header, forcing a web
  browser to download the file rather than to display it. By default, this header is not present.</p>
</td></tr><tr>
<td><code>[options.delimiter]</code></td><td><code>String</code></td><td><code>&#x27;,&#x27;</code></td>
</tr>
<tr>
<td colspan="3"><p>A delimiter character for CSV files, only used if <code>format</code> is <code>csv</code>.</p>
</td></tr><tr>
<td><code>[options.bom]</code></td><td><code>Boolean</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>All responses are encoded in UTF-8 encoding. By default, the CSV files are prefixed with the UTF-8 Byte
  Order Mark (BOM), while JSON, JSONL, XML, HTML and RSS files are not. If you want to override this default
  behavior, set <code>bom</code> option to <code>true</code> to include the BOM, or set <code>bom</code> to <code>false</code> to skip it.</p>
</td></tr><tr>
<td><code>[options.xmlRoot]</code></td><td><code>String</code></td><td><code>&#x27;results&#x27;</code></td>
</tr>
<tr>
<td colspan="3"><p>Overrides the default root element name of the XML output. By default, the root element is <code>results</code>.</p>
</td></tr><tr>
<td><code>[options.xmlRow]</code></td><td><code>String</code></td><td><code>&#x27;page&#x27;</code></td>
</tr>
<tr>
<td colspan="3"><p>Overrides the default element name that wraps each page or page function result object in XML output.
  By default, the element name is <code>page</code> or <code>result</code>, depending on the value of the <code>simplified</code> option.</p>
</td></tr><tr>
<td><code>[options.skipHeaderRow]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then header row in CSV format is skipped.</p>
</td></tr><tr>
<td><code>[options.simplified]</code></td><td><code>Boolean</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then function applies the <code>fields: [&#39;url&#39;,&#39;pageFunctionResult&#39;,&#39;errorInfo&#39;]</code> and <code>unwind: &#39;pageFunctionResult&#39;</code> options.</p>
</td></tr><tr>
<td><code>[options.skipFailedPages]</code></td><td><code>Boolean</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then all the items with errorInfo property will be skipped from the output.</p>
</td></tr></tbody>
</table>
<a name="Dataset+getInfo"></a>
<h2><a class="anchor" aria-hidden="true" id="datasetgetinfo-promise-object"></a><a href="#datasetgetinfo-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.getInfo()</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Returns an object containing general information about the dataset.</p>
<p>The function returns the same object as the Apify API Client's
<a href="https://apify.com/docs/api/apify-client-js/latest#ApifyClient-datasets-getDataset">getDataset</a> function, which in turn calls the
<a href="https://apify.com/docs/api/v2#/reference/datasets/dataset/get-dataset">Get dataset</a> API endpoint.</p>
<p><strong>Example:</strong></p>
<pre><code class="hljs"><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">"WkzbQMuFYuamGv3YF"</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">"my-dataset"</span><span class="token punctuation">,</span>
  userId<span class="token punctuation">:</span> <span class="token string">"wRsJZtadYvn4mBZmm"</span><span class="token punctuation">,</span>
  createdAt<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2015-12-12T07:34:14.202Z"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  modifiedAt<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2015-12-13T08:36:13.202Z"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  accessedAt<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2015-12-14T08:36:13.202Z"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  itemCount<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  cleanItemCount<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre>
<p><a name="Dataset+forEach"></a></p>
<h2><a class="anchor" aria-hidden="true" id="datasetforeachiteratee-options-index-promise"></a><a href="#datasetforeachiteratee-options-index-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.forEach(iteratee, [options], [index])</code> ⇒ <code>Promise</code></h2>
<p>Iterates over dataset items, yielding each in turn to an <code>iteratee</code> function. Each invocation of <code>iteratee</code> is called with two arguments:
<code>(item, index)</code>.</p>
<p>If the <code>iteratee</code> function returns a Promise then it is awaited before the next call. If it throws an error, the iteration is aborted and the
<code>forEach</code> function throws the error.</p>
<p><strong>Example usage</strong></p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openDataset</span><span class="token punctuation">(</span><span class="token string">'my-results'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> dataset<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Item at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>iteratee</code></td><td><code>function</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>A function that is called for every item in the dataset.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>All <code>forEach()</code> parameters are passed
  via an options object with the following keys:</p>
</td></tr><tr>
<td><code>[options.offset]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Number of array elements that should be skipped at the start.</p>
</td></tr><tr>
<td><code>[options.desc]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the objects are sorted by <code>createdAt</code> in descending order.</p>
</td></tr><tr>
<td><code>[options.fields]</code></td><td><code>Array</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then returned objects will only contain specified keys.</p>
</td></tr><tr>
<td><code>[options.unwind]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then objects will be unwound based on provided field.</p>
</td></tr><tr>
<td><code>[options.limit]</code></td><td><code>Number</code></td><td><code>250000</code></td>
</tr>
<tr>
<td colspan="3"><p>How many items to load in one request.</p>
</td></tr><tr>
<td><code>[index]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Specifies the initial index number passed to the <code>iteratee</code> function.</p>
</td></tr></tbody>
</table>
<a name="Dataset+map"></a>
<h2><a class="anchor" aria-hidden="true" id="datasetmapiteratee-options-promise-array"></a><a href="#datasetmapiteratee-options-promise-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.map(iteratee, options)</code> ⇒ <code>Promise&lt;Array&gt;</code></h2>
<p>Produces a new array of values by mapping each value in list through a transformation function <code>iteratee()</code>. Each invocation of <code>iteratee()</code> is called
with two arguments: <code>(element, index)</code>.</p>
<p>If <code>iteratee</code> returns a <code>Promise</code> then it's awaited before a next call.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>iteratee</code></td><td><code>function</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>options</code></td><td><code>Object</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>All <code>map()</code> parameters are passed
  via an options object with the following keys:</p>
</td></tr><tr>
<td><code>[options.offset]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Number of array elements that should be skipped at the start.</p>
</td></tr><tr>
<td><code>[options.desc]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the objects are sorted by createdAt in descending order.</p>
</td></tr><tr>
<td><code>[options.fields]</code></td><td><code>Array</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then returned objects will only contain specified keys</p>
</td></tr><tr>
<td><code>[options.unwind]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then objects will be unwound based on provided field.</p>
</td></tr><tr>
<td><code>[options.limit]</code></td><td><code>Number</code></td><td><code>250000</code></td>
</tr>
<tr>
<td colspan="3"><p>How many items to load in one request.</p>
</td></tr></tbody>
</table>
<a name="Dataset+reduce"></a>
<h2><a class="anchor" aria-hidden="true" id="datasetreduceiteratee-memo-options-promise"></a><a href="#datasetreduceiteratee-memo-options-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.reduce(iteratee, memo, options)</code> ⇒ <code>Promise&lt;*&gt;</code></h2>
<p>Reduces a list of values down to a single value.</p>
<p>Memo is the initial state of the reduction, and each successive step of it should be returned by <code>iteratee()</code>. The <code>iteratee()</code> is passed three
arguments: the <code>memo</code>, then the <code>value</code> and <code>index</code> of the iteration.</p>
<p>If no <code>memo</code> is passed to the initial invocation of reduce, the <code>iteratee()</code> is not invoked on the first element of the list. The first element is
instead passed as the memo in the invocation of the <code>iteratee()</code> on the next element in the list.</p>
<p>If <code>iteratee()</code> returns a <code>Promise</code> then it's awaited before a next call.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>iteratee</code></td><td><code>function</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>memo</code></td><td><code>*</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Initial state of the reduction.</p>
</td></tr><tr>
<td><code>options</code></td><td><code>Object</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>All <code>reduce()</code> parameters are passed
  via an options object with the following keys:</p>
</td></tr><tr>
<td><code>[options.offset]</code></td><td><code>Number</code></td><td><code>0</code></td>
</tr>
<tr>
<td colspan="3"><p>Number of array elements that should be skipped at the start.</p>
</td></tr><tr>
<td><code>[options.desc]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the objects are sorted by createdAt in descending order.</p>
</td></tr><tr>
<td><code>[options.fields]</code></td><td><code>Array</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then returned objects will only contain specified keys</p>
</td></tr><tr>
<td><code>[options.unwind]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>If provided then objects will be unwound based on provided field.</p>
</td></tr><tr>
<td><code>[options.limit]</code></td><td><code>Number</code></td><td><code>250000</code></td>
</tr>
<tr>
<td colspan="3"><p>How many items to load in one request.</p>
</td></tr></tbody>
</table>
<a name="Dataset+delete"></a>
<h2><a class="anchor" aria-hidden="true" id="datasetdelete-promise"></a><a href="#datasetdelete-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataset.delete()</code> ⇒ <code>Promise</code></h2>
<p>Removes the dataset either from the Apify cloud storage or from the local directory, depending on the mode of operation.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/api/cheeriocrawler"><span class="arrow-prev">← </span><span class="function-name-prevnext">CheerioCrawler</span></a><a class="docs-next button" href="/docs/api/keyvaluestore"><span class="function-name-prevnext">KeyValueStore</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#datasetpushdatadata-promise"><code>dataset.pushData(data)</code> ⇒ <code>Promise</code></a></li><li><a href="#datasetgetdata-options-promise-object"><code>dataset.getData([options])</code> ⇒ <code>Promise&lt;Object&gt;</code></a></li><li><a href="#datasetgetinfo-promise-object"><code>dataset.getInfo()</code> ⇒ <code>Promise&lt;Object&gt;</code></a></li><li><a href="#datasetforeachiteratee-options-index-promise"><code>dataset.forEach(iteratee, [options], [index])</code> ⇒ <code>Promise</code></a></li><li><a href="#datasetmapiteratee-options-promise-array"><code>dataset.map(iteratee, options)</code> ⇒ <code>Promise&lt;Array&gt;</code></a></li><li><a href="#datasetreduceiteratee-memo-options-promise"><code>dataset.reduce(iteratee, memo, options)</code> ⇒ <code>Promise&lt;*&gt;</code></a></li><li><a href="#datasetdelete-promise"><code>dataset.delete()</code> ⇒ <code>Promise</code></a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/apify_logo.svg" alt="Apify SDK" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/guides/motivation">Guide</a><a href="/docs/examples/basiccrawler">Examples</a><a href="/docs/api/apify">Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/apify" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.facebook.com/apifytech" target="_blank" rel="noreferrer noopener">Facebook</a></div><div><h5>More</h5><a href="https://apify.com" target="_blank">Apify Cloud</a><a href="https://docusaurus.io" target="_blank">Docusaurus</a><a href="https://github.com/apifytech/apify-js" target="_blank">GitHub</a></div></section><section class="copyright">Copyright © 2019 Apify Technologies s.r.o.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '64ce2544769e34add0e6402688c86e92',
                indexName: 'apify_sdk',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>