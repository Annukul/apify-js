<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Apify · Apify SDK</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;a name=&quot;module_Apify&quot;&gt;&lt;/a&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Apify · Apify SDK"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sdk.apify.com/"/><meta property="og:description" content="&lt;a name=&quot;module_Apify&quot;&gt;&lt;/a&gt;"/><meta property="og:image" content="https://sdk.apify.com/img/apify_logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sdk.apify.com/img/apify_logo.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/apify_logo.svg" alt="Apify SDK"/><h2 class="headerTitleWithLogo">Apify SDK</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class="siteNavGroupActive"><a href="/docs/guides/motivation" target="_self">Guide</a></li><li class=""><a href="/docs/examples/basiccrawler" target="_self">Examples</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/api/apify" target="_self">Reference</a></li><li class=""><a href="https://github.com/apifytech/apify-js" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/guides/motivation">Motivation</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/gettingstarted">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/quickstart">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/whatisanactor">What is an Actor</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/environmentvariables">Environment Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/datastorage">Data Storage</a></li><li class="navListItem"><a class="navItem" href="/docs/guides/puppeteerliveview">Puppeteer Live View</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Reference</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/api/apify">Apify</a></li><li class="navListItem"><a class="navItem" href="/docs/api/autoscaledpool">AutoscaledPool</a></li><li class="navListItem"><a class="navItem" href="/docs/api/basiccrawler">BasicCrawler</a></li><li class="navListItem"><a class="navItem" href="/docs/api/cheeriocrawler">CheerioCrawler</a></li><li class="navListItem"><a class="navItem" href="/docs/api/dataset">Dataset</a></li><li class="navListItem"><a class="navItem" href="/docs/api/keyvaluestore">KeyValueStore</a></li><li class="navListItem"><a class="navItem" href="/docs/api/liveviewserver">LiveViewServer</a></li><li class="navListItem"><a class="navItem" href="/docs/api/pseudourl">PseudoUrl</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteercrawler">PuppeteerCrawler</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteerpool">PuppeteerPool</a></li><li class="navListItem"><a class="navItem" href="/docs/api/request">Request</a></li><li class="navListItem"><a class="navItem" href="/docs/api/requestlist">RequestList</a></li><li class="navListItem"><a class="navItem" href="/docs/api/requestqueue">RequestQueue</a></li><li class="navListItem"><a class="navItem" href="/docs/api/utils">utils</a></li><li class="navListItem"><a class="navItem" href="/docs/api/log">utils.log</a></li><li class="navListItem"><a class="navItem" href="/docs/api/puppeteer">utils.puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/api/social">utils.social</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Apify</h1></header><article><div><span><p><a name="module_Apify"></a></p>
<p>The following section describes all functions and properties provided by the <code>apify</code> package, except individual classes and namespaces that have their
separate, detailed, documentation pages accessible from the left sidebar.</p>
<ul>
<li><a href="#module_Apify">Apify</a>
<ul>
<li><a href="#module_Apify.addWebhook"><code>.addWebhook(options)</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#module_Apify.call"><code>.call(actId, [input], [options])</code></a> ⇒ <a href="../typedefs/actorrun"><code>Promise&lt;ActorRun&gt;</code></a></li>
<li><a href="#module_Apify.callTask"><code>.callTask(taskId, [input], [options])</code></a> ⇒ <a href="../typedefs/actorrun"><code>Promise&lt;ActorRun&gt;</code></a></li>
<li><a href="#module_Apify.client"><code>.client</code></a></li>
<li><a href="#module_Apify.events"><code>.events</code></a></li>
<li><a href="#module_Apify.getApifyProxyUrl"><code>.getApifyProxyUrl(options)</code></a> ⇒ <code>String</code></li>
<li><a href="#module_Apify.getEnv"><code>.getEnv()</code></a> ⇒ <code>Object</code></li>
<li><a href="#module_Apify.getInput"><code>.getInput</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#module_Apify.getMemoryInfo"><code>.getMemoryInfo()</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#module_Apify.getValue"><code>.getValue(key)</code></a> ⇒ <code>Promise&lt;Object&gt;</code></li>
<li><a href="#module_Apify.isAtHome"><code>.isAtHome()</code></a> ⇒ <code>Boolean</code></li>
<li><a href="#module_Apify.launchPuppeteer"><code>.launchPuppeteer([options])</code></a> ⇒ <code>Promise&lt;Browser&gt;</code></li>
<li><a href="#module_Apify.main"><code>.main(userFunc)</code></a></li>
<li><a href="#module_Apify.metamorph"><code>.metamorph(targetActorId, [input], [options])</code></a> ⇒ <code>Promise</code></li>
<li><a href="#module_Apify.openDataset"><code>.openDataset([datasetIdOrName], [options])</code></a> ⇒ <a href="dataset"><code>Promise&lt;Dataset&gt;</code></a></li>
<li><a href="#module_Apify.openKeyValueStore"><code>.openKeyValueStore([storeIdOrName], [options])</code></a> ⇒ <a href="keyvaluestore"><code>Promise&lt;KeyValueStore&gt;</code></a></li>
<li><a href="#module_Apify.openRequestList"><code>.openRequestList</code></a> ⇒ <a href="requestlist"><code>Promise&lt;RequestList&gt;</code></a></li>
<li><a href="#module_Apify.openRequestQueue"><code>.openRequestQueue</code></a> ⇒ <a href="requestqueue"><code>Promise&lt;RequestQueue&gt;</code></a></li>
<li><a href="#module_Apify.pushData"><code>.pushData(item)</code></a> ⇒ <code>Promise</code></li>
<li><a href="#module_Apify.setValue"><code>.setValue(key, value, [options])</code></a> ⇒ <code>Promise</code></li>
</ul></li>
</ul>
<p><a name="module_Apify.addWebhook"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifyaddwebhookoptions-promise-object"></a><a href="#apifyaddwebhookoptions-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.addWebhook(options)</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Creates an ad-hoc webhook for the current actor run, which lets you receive a notification when the actor run finished or failed. For more information
about Apify actor webhooks, please see the <a href="https://apify.com/docs/webhooks" target="_blank">documentation</a>.</p>
<p>Note that webhooks are only supported for actors running on the Apify platform. In local environment, the function will print a warning and have no
effect.</p>
<p><strong>Returns</strong>: <code>Promise&lt;Object&gt;</code> - The return value is the Webhook object. For more information, see the
<a href="https://apify.com/docs/api/v2#/reference/webhooks/webhook-object/get-webhook">Get webhook</a> API endpoint.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>options</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>options.eventTypes</code></td><td><code>Array<string></code></td>
</tr>
<tr>
<td colspan="3"><p>Array of event types, which you can set for actor run, see
  the <a href="https://apify.com/docs/webhooks#events-actor-run" target="_blank">actor run events</a> in the Apify doc.</p>
</td></tr><tr>
<td><code>options.requestUrl</code></td><td><code>string</code></td>
</tr>
<tr>
<td colspan="3"><p>URL which will be requested using HTTP POST request, when actor run will reach the set event type.</p>
</td></tr><tr>
<td><code>[options.payloadTemplate]</code></td><td><code>string</code></td>
</tr>
<tr>
<td colspan="3"><p>Payload template is a JSON-like string that describes the structure of the webhook POST request payload.
  It uses JSON syntax, extended with a double curly braces syntax for injecting variables <code>{{variable}}</code>.
  Those variables are resolved at the time of the webhook&#39;s dispatch, and a list of available variables with their descriptions
  is available in the <a href="https://apify.com/docs/webhooks" target="_blank">Apify webhook documentation</a>.</p>
<p>  When omitted, the default payload template will be used.
  <a href="https://apify.com/docs/webhooks" target="_blank">See the docs for the default payload template</a>.</p>
</td></tr><tr>
<td><code>[options.idempotencyKey]</code></td><td><code>string</code></td>
</tr>
<tr>
<td colspan="3"><p>Idempotency key enables you to ensure that a webhook will not be added multiple times in case of
  an actor restart or other situation that would cause the <code>addWebhook()</code> function to be called again.
  We suggest using the actor run ID as the idempotency key. You can get the run ID by calling
  <a href="apify#module_Apify.getEnv">`Apify.getEnv()</a> function.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.call"></a>
<h2><a class="anchor" aria-hidden="true" id="apifycallactid-input-options-promise-actorrun-typedefs-actorrun"></a><a href="#apifycallactid-input-options-promise-actorrun-typedefs-actorrun" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.call(actId, [input], [options])</code> ⇒ <a href="../typedefs/actorrun"><code>Promise&lt;ActorRun&gt;</code></a></h2>
<p>Runs an actor on the Apify platform using the current user account (determined by the <code>APIFY_TOKEN</code> environment variable), waits for the actor to
finish and fetches its output.</p>
<p>By passing the <code>waitSecs</code> option you can reduce the maximum amount of time to wait for the run to finish. If the value is less than or equal to zero,
the function returns immediately after the run is started.</p>
<p>The result of the function is an <a href="../typedefs/actorrun"><code>ActorRun</code></a> object that contains details about the actor run and its output (if any). If the
actor run fails, the function throws the <a href="../typedefs/apifycallerror"><code>ApifyCallError</code></a> exception.</p>
<p>If you want to run an actor task rather than an actor, please use the <a href="../api/apify#module_Apify.callTask"><code>Apify.callTask()</code></a> function instead.</p>
<p>For more information about actors, read the <a href="https://apify.com/docs/actor" target="_blank">documentation</a>.</p>
<p><strong>Example usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> run <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">Apify</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'apify/hello-world'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> myInput<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Received message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>run<span class="token punctuation">.</span>output<span class="token punctuation">.</span>body<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Internally, the <code>call()</code> function invokes the <a href="https://apify.com/docs/api/v2#/reference/actors/run-collection/run-actor" target="_blank">Run
actor</a> and several other API endpoints to obtain the output.</p>
<p><strong>Throws</strong>:</p>
<ul>
<li><a href="../typedefs/apifycallerror"><code>ApifyCallError</code></a> If the run did not succeed, e.g. if it failed or timed out.</li>
</ul>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>actId</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Either <code>username/actor-name</code> or actor ID.</p>
</td></tr><tr>
<td><code>[input]</code></td><td><code>Object</code> | <code>String</code> | <code>Buffer</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Input for the actor. If it is an object, it will be stringified to
 JSON and its content type set to <code>application/json; charset=utf-8</code>.
 Otherwise the <code>options.contentType</code> parameter must be provided.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Object with the settings below:</p>
</td></tr><tr>
<td><code>[options.contentType]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Content type for the <code>input</code>. If not specified,
 <code>input</code> is expected to be an object that will be stringified to JSON and content type set to
 <code>application/json; charset=utf-8</code>. If <code>options.contentType</code> is specified, then <code>input</code> must be a
 <code>String</code> or <code>Buffer</code>.</p>
</td></tr><tr>
<td><code>[options.token]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>User API token that is used to run the actor. By default, it is taken from the <code>APIFY_TOKEN</code> environment variable.</p>
</td></tr><tr>
<td><code>[options.memoryMbytes]</code></td><td><code>Number</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Memory in megabytes which will be allocated for the new actor run.
 If not provided, the run uses memory of the default actor run configuration.</p>
</td></tr><tr>
<td><code>[options.timeoutSecs]</code></td><td><code>Number</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Timeout for the actor run in seconds. Zero value means there is no timeout.
 If not provided, the run uses timeout of the default actor run configuration.</p>
</td></tr><tr>
<td><code>[options.build]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Tag or number of the actor build to run (e.g. <code>beta</code> or <code>1.2.345</code>).
 If not provided, the run uses build tag or number from the default actor run configuration (typically <code>latest</code>).</p>
</td></tr><tr>
<td><code>[options.waitSecs]</code></td><td><code>String</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>Maximum time to wait for the actor run to finish, in seconds.
 If the limit is reached, the returned promise is resolved to a run object that will have
 status <code>READY</code> or <code>RUNNING</code> and it will not contain the actor run output.
 If <code>waitSecs</code> is null or undefined, the function waits for the actor to finish (default behavior).</p>
</td></tr><tr>
<td><code>[options.fetchOutput]</code></td><td><code>Boolean</code></td><td><code>true</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>false</code> then the function does not fetch output of the actor.</p>
</td></tr><tr>
<td><code>[options.disableBodyParser]</code></td><td><code>Boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If <code>true</code> then the function will not attempt to parse the
 actor&#39;s output and will return it in a raw <code>Buffer</code>.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.callTask"></a>
<h2><a class="anchor" aria-hidden="true" id="apifycalltasktaskid-input-options-promise-actorrun-typedefs-actorrun"></a><a href="#apifycalltasktaskid-input-options-promise-actorrun-typedefs-actorrun" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.callTask(taskId, [input], [options])</code> ⇒ <a href="../typedefs/actorrun"><code>Promise&lt;ActorRun&gt;</code></a></h2>
<p>Runs an actor task on the Apify platform using the current user account (determined by the <code>APIFY_TOKEN</code> environment variable), waits for the task to
finish and fetches its output.</p>
<p>By passing the <code>waitSecs</code> option you can reduce the maximum amount of time to wait for the run to finish. If the value is less than or equal to zero,
the function returns immediately after the run is started.</p>
<p>The result of the function is an <a href="../typedefs/actorrun"><code>ActorRun</code></a> object that contains details about the actor run and its output (if any). If the
actor run failed, the function fails with <a href="../typedefs/apifycallerror"><code>ApifyCallError</code></a> exception.</p>
<p>Note that an actor task is a saved input configuration and options for an actor. If you want to run an actor directly rather than an actor task,
please use the <a href="../api/apify#module_Apify.call"><code>Apify.call()</code></a> function instead.</p>
<p>For more information about actor tasks, read the <a href="https://apify.com/docs/tasks"><code>documentation</code></a>.</p>
<p><strong>Example usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> run <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">callTask</span><span class="token punctuation">(</span><span class="token string">'bob/some-task'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Received message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>run<span class="token punctuation">.</span>output<span class="token punctuation">.</span>body<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Internally, the <code>callTask()</code> function calls the
<a href="https://apify.com/docs/api/v2#/reference/actor-tasks/run-collection/run-task" target="_blank">Run task</a> and several other API endpoints to
obtain the output.</p>
<p><strong>Throws</strong>:</p>
<ul>
<li><a href="../typedefs/apifycallerror"><code>ApifyCallError</code></a> If the run did not succeed, e.g. if it failed or timed out.</li>
</ul>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>taskId</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Either <code>username/task-name</code> or task ID.</p>
</td></tr><tr>
<td><code>[input]</code></td><td><code>Object</code> | <code>String</code> | <code>Buffer</code></td>
</tr>
<tr>
<td colspan="3"><p>Input overrides for the actor task. If it is an object, it will be stringified to
 JSON and its content type set to <code>application/json; charset=utf-8</code>.
 Otherwise the <code>options.contentType</code> parameter must be provided.
 Provided input will be merged with actor task input.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"><p>Object with the settings below:</p>
</td></tr><tr>
<td><code>[options.contentType]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Content type for the <code>input</code>. If not specified,
 <code>input</code> is expected to be an object that will be stringified to JSON and content type set to
 <code>application/json; charset=utf-8</code>. If <code>options.contentType</code> is specified, then <code>input</code> must be a
 <code>String</code> or <code>Buffer</code>.</p>
</td></tr><tr>
<td><code>[options.token]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>User API token that is used to run the actor. By default, it is taken from the <code>APIFY_TOKEN</code> environment variable.</p>
</td></tr><tr>
<td><code>[options.memoryMbytes]</code></td><td><code>Number</code></td>
</tr>
<tr>
<td colspan="3"><p>Memory in megabytes which will be allocated for the new actor task run.
 If not provided, the run uses memory of the default actor run configuration.</p>
</td></tr><tr>
<td><code>[options.timeoutSecs]</code></td><td><code>Number</code></td>
</tr>
<tr>
<td colspan="3"><p>Timeout for the actor task run in seconds. Zero value means there is no timeout.
 If not provided, the run uses timeout of the default actor run configuration.</p>
</td></tr><tr>
<td><code>[options.build]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Tag or number of the actor build to run (e.g. <code>beta</code> or <code>1.2.345</code>).
 If not provided, the run uses build tag or number from the default actor run configuration (typically <code>latest</code>).</p>
</td></tr><tr>
<td><code>[options.waitSecs]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Maximum time to wait for the actor task run to finish, in seconds.
 If the limit is reached, the returned promise is resolved to a run object that will have
 status <code>READY</code> or <code>RUNNING</code> and it will not contain the actor run output.
 If <code>waitSecs</code> is null or undefined, the function waits for the actor task to finish (default behavior).</p>
</td></tr></tbody>
</table>
<a name="module_Apify.client"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyclient"></a><a href="#apifyclient" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.client</code></h2>
<p>Gets the default instance of the <code>ApifyClient</code> class provided <a href="https://apify.com/docs/sdk/apify-client-js/latest"
target="_blank">apify-client</a> by the NPM package. The instance is created automatically by the Apify SDK and it is configured using the
<code>APIFY_API_BASE_URL</code>, <code>APIFY_USER_ID</code> and <code>APIFY_TOKEN</code> environment variables.</p>
<p>The instance is used for all underlying calls to the Apify API in functions such as <a href="#module_Apify.getValue"><code>Apify.getValue()</code></a> or
<a href="#module_Apify.call"><code>Apify.call()</code></a>. The settings of the client can be globally altered by calling the
<a href="https://apify.com/docs/sdk/apify-client-js/latest#ApifyClient-setOptions"
target="_blank"><code>Apify.client.setOptions()</code></a> function. Beware that altering these settings might have unintended effects on the entire Apify SDK
package.</p>
<p><a name="module_Apify.events"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifyevents"></a><a href="#apifyevents" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.events</code></h2>
<p>Gets an instance of a Node.js' <a href="https://nodejs.org/api/events.html#events_class_eventemitter" target="_blank">EventEmitter</a> class that
emits various events from the SDK or the Apify platform. The event emitter is initialized by calling the <a href="#module_Apify.main"><code>Apify.main()</code></a>
function.</p>
<p><strong>Example usage:</strong></p>
<pre><code class="hljs css language-javascript">Apify<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cpuInfo'</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>isCpuOverloaded<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Oh no, the CPU is overloaded!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The following table shows all currently emitted events:</p>
<table>
    <thead>
        <tr>
            <th>Event name</th>
            <th>Data</th>
    </thead>
    <tbody>
        <tr>
            <td><code>cpuInfo</code></td>
            <td><code>{ "isCpuOverloaded": Boolean }</code></td>
        </tr>
        <tr>
            <td colspan="2">
                The event is emitted approximately every second
                and it indicates whether the actor is using the maximum of available CPU resources.
                If that's the case, the actor should not add more workload.
                For example, this event is used by the <a href="autoscaledpool"><code>AutoscaledPool</code></a> class.
            </td>
        </tr>
        <tr>
            <td><code>migrating</code></td>
            <td>None</td>
        </tr>
        <tr>
            <td colspan="2">
                Emitted when the actor running on the Apify platform is going to be migrated to another worker server soon.
                You can use it to persist the state of the actor and abort the run, to speed up migration.
                For example, this is used by the <a href="requestlist"><code>RequestList</code></a> class.
            </td>
        </tr>
        <tr>
            <td><code>persistState</code></td>
            <td><code>{ "isMigrating": Boolean }</code></td>
        </tr>
        <tr>
            <td colspan="2">
                Emitted in regular intervals to notify all components of Apify SDK that it is time to persist
                their state, in order to avoid repeating all work when the actor restarts.
                This event is automatically emitted together with the <code>migrating</code> event,
                in which case the <code>isMigrating</code> flag is set to <code>true</code>. Otherwise the flag is <code>false</code>.
                <br><br>
                Note that the <code>persistState</code> event is provided merely for user convenience,
                you can achieve the same effect using <code>setInterval()</code> and listening for the <code>migrating</code> event.
            </td>
        </tr>
    </tbody>
</table>
<p><a name="module_Apify.getApifyProxyUrl"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifygetapifyproxyurloptions-string"></a><a href="#apifygetapifyproxyurloptions-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.getApifyProxyUrl(options)</code> ⇒ <code>String</code></h2>
<p>Constructs an Apify Proxy URL using the specified settings. The proxy URL can be used from Apify actors, web browsers or any other HTTP proxy-enabled
applications.</p>
<p>For more information, see the <a href="https://my.apify.com/proxy" target="_blank">Apify Proxy</a> page in the app or the
<a href="https://apify.com/docs/proxy" target="_blank">documentation</a>.</p>
<p><strong>Returns</strong>: <code>String</code> - Returns the proxy URL, e.g. <code>http://auto:my_password@proxy.apify.com:8000</code>.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>options</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"><p>Object with the settings below:</p>
</td></tr><tr>
<td><code>[options.password]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>User&#39;s password for the proxy.
  By default, it is taken from the <code>APIFY_PROXY_PASSWORD</code> environment variable,
  which is automatically set by the system when running the actors on the Apify cloud,
  or when using the <a href="https://github.com/apifytech/apify-cli" target="_blank">Apify CLI</a>
  package and the user previously logged in (called <code>apify login</code>).</p>
</td></tr><tr>
<td><code>[options.groups]</code></td><td><code>Array<String></code></td>
</tr>
<tr>
<td colspan="3"><p>Array of Apify Proxy groups to be used.
  If not provided, the proxy will select the groups automatically.</p>
</td></tr><tr>
<td><code>[options.session]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Apify Proxy session identifier to be used by the Chrome browser.
  All HTTP requests going through the proxy with the same session identifier
  will use the same target proxy server (i.e. the same IP address), unless using Residential proxies.
  The identifier can only contain the following characters: <code>0-9</code>, <code>a-z</code>, <code>A-Z</code>, <code>&quot;.&quot;</code>, <code>&quot;_&quot;</code> and <code>&quot;~&quot;</code>.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.getEnv"></a>
<h2><a class="anchor" aria-hidden="true" id="apifygetenv-object"></a><a href="#apifygetenv-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.getEnv()</code> ⇒ <code>Object</code></h2>
<p>Returns a new object which contains information parsed from all the <code>APIFY_XXX</code> environment variables. It has properties such as the following:</p>
<pre><code class="hljs css language-javascript"><span class="token punctuation">{</span>
    <span class="token comment">// ID of the actor (APIFY_ACTOR_ID)</span>
    actorId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// ID of the actor run (APIFY_ACTOR_RUN_ID)</span>
    actorRunId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// ID of the actor task (APIFY_ACTOR_TASK_ID)</span>
    actorTaskId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// ID of the user who started the actor - note that it might be</span>
    <span class="token comment">// different than the owner of the actor (APIFY_USER_ID)</span>
    userId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// Authentication token representing privileges given to the actor run,</span>
    <span class="token comment">// it can be passed to various Apify APIs (APIFY_TOKEN).</span>
    token<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// Date when the actor was started (APIFY_STARTED_AT)</span>
    startedAt<span class="token punctuation">:</span> Date<span class="token punctuation">,</span>
    <span class="token comment">// Date when the actor will time out (APIFY_TIMEOUT_AT)</span>
    timeoutAt<span class="token punctuation">:</span> Date<span class="token punctuation">,</span>
    <span class="token comment">// ID of the key-value store where input and output data of this</span>
    <span class="token comment">// actor is stored (APIFY_DEFAULT_KEY_VALUE_STORE_ID)</span>
    defaultKeyValueStoreId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// ID of the dataset where input and output data of this</span>
    <span class="token comment">// actor is stored (APIFY_DEFAULT_DATASET_ID)</span>
    defaultDatasetId<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
    <span class="token comment">// Amount of memory allocated for the actor,</span>
    <span class="token comment">// in megabytes (APIFY_MEMORY_MBYTES)</span>
    memoryMbytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<p>For the list of the <code>APIFY_XXX</code> environment variables, see <a href="https://apify.com/docs/actor#run-env-vars" target="_blank">Actor
documentation</a>. If some of the variables are not defined or are invalid, the corresponding value in the resulting object will be null.</p>
<p><a name="module_Apify.getInput"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifygetinput-promise-object"></a><a href="#apifygetinput-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.getInput</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Gets the actor input value from the default <a href="keyvaluestore"><code>KeyValueStore</code></a> associated with the current actor run.</p>
<p>This is just a convenient shortcut for <a href="keyvaluestore#KeyValueStore+getValue"><code>keyValueStore.getValue('INPUT')</code></a>. For example, calling the following
code:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">getInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>is equivalent to:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openKeyValueStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">'INPUT'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>For more information, see <a href="#module_Apify.openKeyValueStore"><code>Apify.openKeyValueStore()</code></a> and
<a href="keyvaluestore#KeyValueStore+getValue"><code>keyValueStore.getValue()</code></a>.</p>
<p><strong>Returns</strong>: <code>Promise&lt;Object&gt;</code> - Returns a promise that resolves once the record is stored.<br>
<a name="module_Apify.getMemoryInfo"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifygetmemoryinfo-promise-object"></a><a href="#apifygetmemoryinfo-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.getMemoryInfo()</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Returns memory statistics of the process and the system, which is an object with the following properties:</p>
<pre><code class="hljs css language-javascript"><span class="token punctuation">{</span>
  <span class="token comment">// Total memory available in the system or container</span>
  totalBytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
  <span class="token comment">// Amount of free memory in the system or container</span>
  freeBytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
  <span class="token comment">// Amount of memory used (= totalBytes - freeBytes)</span>
  usedBytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
  <span class="token comment">// Amount of memory used the current Node.js process</span>
  mainProcessBytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
  <span class="token comment">// Amount of memory used by child processes of the current Node.js process</span>
  childProcessesBytes<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If the process runs inside of Docker, the <code>getMemoryInfo</code> gets container memory limits, otherwise it gets system memory limits.</p>
<p>Beware that the function is quite inefficient because it spawns a new process. Therefore you shouldn't call it too often, like more than once per
second.</p>
<p><a name="module_Apify.getValue"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifygetvaluekey-promise-object"></a><a href="#apifygetvaluekey-promise-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.getValue(key)</code> ⇒ <code>Promise&lt;Object&gt;</code></h2>
<p>Gets a value from the default <a href="keyvaluestore"><code>KeyValueStore</code></a> associated with the current actor run.</p>
<p>This is just a convenient shortcut for <a href="keyvaluestore#KeyValueStore+getValue"><code>keyValueStore.getValue()</code></a>. For example, calling the following code:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">'my-key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>is equivalent to:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openKeyValueStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">'my-key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>To store the value to the default-key value store, you can use the <a href="#module_Apify.setValue"><code>Apify.setValue()</code></a> function.</p>
<p>For more information, see <a href="#module_Apify.openKeyValueStore"><code>Apify.openKeyValueStore()</code></a> and
<a href="keyvaluestore#KeyValueStore+getValue"><code>keyValueStore.getValue()</code></a>.</p>
<p><strong>Returns</strong>: <code>Promise&lt;Object&gt;</code> - Returns a promise that resolves once the record is stored.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Unique record key.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.isAtHome"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyisathome-boolean"></a><a href="#apifyisathome-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.isAtHome()</code> ⇒ <code>Boolean</code></h2>
<p>Returns <code>true</code> when code is running on Apify platform and <code>false</code> otherwise (for example locally).</p>
<p><a name="module_Apify.launchPuppeteer"></a></p>
<h2><a class="anchor" aria-hidden="true" id="apifylaunchpuppeteer-options-promise-browser"></a><a href="#apifylaunchpuppeteer-options-promise-browser" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.launchPuppeteer([options])</code> ⇒ <code>Promise&lt;Browser&gt;</code></h2>
<p>Launches headless Chrome using Puppeteer pre-configured to work within the Apify platform. The function has the same argument and the return value as
<code>puppeteer.launch()</code>. See <a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#puppeteerlaunchoptions" target="_blank">
Puppeteer documentation</a> for more details.</p>
<p>The <code>launchPuppeteer()</code> function alters the following Puppeteer options:</p>
<ul>
   <li>
       Passes the setting from the <code>APIFY_HEADLESS</code> environment variable to the <code>headless</code> option,
       unless it was already defined by the caller or <code>APIFY_XVFB</code> environment variable is set to <code>1</code>.
       Note that Apify Actor cloud platform automatically sets <code>APIFY_HEADLESS=1</code> to all running actors.
   </li>
   <li>
       Takes the <code>proxyUrl</code> option, validates it and adds it to <code>args</code> as <code>--proxy-server=XXX</code>.
       The proxy URL must define a port number and have one of the following schemes: <code>http://</code>,
       <code>https://</code>, <code>socks4://</code> or <code>socks5://</code>.
       If the proxy is HTTP (i.e. has the <code>http://</code> scheme) and contains username or password,
       the <code>launchPuppeteer</code> functions sets up an anonymous proxy HTTP
       to make the proxy work with headless Chrome. For more information, read the
       <a href="https://blog.apify.com/how-to-make-headless-chrome-and-puppeteer-use-a-proxy-server-with-authentication-249a21a79212"
       target="_blank">blog post about proxy-chain library</a>.
   </li>
   <li>
       If <code>options.useApifyProxy</code> is <code>true</code> then the function generates a URL of
       <a href="https://apify.com/docs/proxy" target="_blank">Apify Proxy</a>
       based on <code>options.apifyProxyGroups</code> and <code>options.apifyProxySession</code> and passes it as <code>options.proxyUrl</code>.
   </li>
   <li>
       The function adds <code>--no-sandbox</code> to <code>args</code> to enable running
       headless Chrome in a Docker container on the Apify platform.
   </li>
   <li>
       Sets <code>defaultViewport</code> Puppeteer option (if not already set)
       to a more reasonable default for screenshots and debugging.
       You can set <code>options.defaultViewport</code> to <code>null</code> if you prefer to let Puppeteer
       choose the default viewport size.
   </li>
</ul>
<p>To use this function, you need to have the <a href="https://www.npmjs.com/package/puppeteer" target="_blank">puppeteer</a> NPM package installed in
your project. When running on the Apify cloud, you can achieve that simply by using the <code>apify/actor-node-chrome</code> base Docker image for your actor -
see <a href="https://apify.com/docs/actor#base-images" target="_blank">Apify Actor documentation</a> for details.</p>
<p>For an example of usage, see the <a href="../examples/synchronousrun">Synchronous run Example</a> or the
<a href="../examples/puppeteerwithproxy">Puppeteer proxy Example</a></p>
<p><strong>Returns</strong>: <code>Promise&lt;Browser&gt;</code> - Promise that resolves to Puppeteer's <code>Browser</code> instance.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[options]</code></td><td><code><a href="../typedefs/launchpuppeteeroptions">LaunchPuppeteerOptions</a></code></td>
</tr>
<tr>
<td colspan="3"><p>Optional settings passed to <code>puppeteer.launch()</code>. In addition to
  <a href="https://pptr.dev/#?product=Puppeteer&show=api-puppeteerlaunchoptions" target="_blank">Puppeteer&#39;s options</a>
  the object may contain our own <a href="../typedefs/launchpuppeteeroptions"><code>LaunchPuppeteerOptions</code></a> that enable additional features.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.main"></a>
<h2><a class="anchor" aria-hidden="true" id="apifymainuserfunc"></a><a href="#apifymainuserfunc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.main(userFunc)</code></h2>
<p>Runs the main user function that performs the job of the actor and terminates the process when the user function finishes.</p>
<p><em>The <code>Apify.main()</code> function is optional</em> and is provided merely for your convenience. It is especially useful when you're running your code as an
actor on the <a href="https://apify.com/actors">Apify platform</a>. However, if you want to use Apify SDK tools directly inside your existing projects or outside
of Apify platform, it's probably better to avoid it since it terminates the main process.</p>
<p>The <code>Apify.main()</code> function performs the following actions:</p>
<ol>
  <li>When running on the Apify platform (i.e. <code>APIFY_IS_AT_HOME</code> environment variable is set),
  it sets up a connection to listen for platform events.
  For example, to get a notification about an imminent migration to another server.
  See <a href="apify#apifyevents"><code>Apify.events</code></a> for details.
  </li>
  <li>It checks that either <code>APIFY_TOKEN</code> or <code>APIFY_LOCAL_STORAGE_DIR</code> environment variable
  is defined. If not, the functions sets <code>APIFY_LOCAL_STORAGE_DIR</code> to <code>./apify_storage</code>
  inside the current working directory. This is to simplify running code examples.
  </li>
  <li>It invokes the user function passed as the <code>userFunc</code> parameter.</li>
  <li>If the user function returned a promise, waits for it to resolve.</li>
  <li>If the user function throws an exception or some other error is encountered,
      prints error details to console so that they are stored to the log.</li>
  <li>Exits the Node.js process, with zero exit code on success and non-zero on errors.</li>
</ol>
<p>The user function can be synchronous:</p>
<pre><code class="hljs css language-javascript">Apify<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// My synchronous function that returns immediately</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello world from actor!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>If the user function returns a promise, it is considered asynchronous:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request-promise-native'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Apify<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// My asynchronous function that returns a promise</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://www.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">html</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>To simplify your code, you can take advantage of the <code>async</code>/<code>await</code> keywords:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request-promise-native'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Apify<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// My asynchronous function</span>
    <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://www.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>userFunc</code></td><td><code>function</code></td>
</tr>
<tr>
<td colspan="3"><p>User function to be executed. If it returns a promise,
the promise will be awaited. The user function is called with no arguments.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.metamorph"></a>
<h2><a class="anchor" aria-hidden="true" id="apifymetamorphtargetactorid-input-options-promise"></a><a href="#apifymetamorphtargetactorid-input-options-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.metamorph(targetActorId, [input], [options])</code> ⇒ <code>Promise</code></h2>
<p>Transforms this actor run to an actor run of a given actor. The system stops the current container and starts the new container instead. All the
default storages are preserved and the new input is stored under the <code>INPUT-METAMORPH-1</code> key in the same default key-value store.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>targetActorId</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Either <code>username/actor-name</code> or actor ID of an actor to which we want to metamorph.</p>
</td></tr><tr>
<td><code>[input]</code></td><td><code>Object</code> | <code>String</code> | <code>Buffer</code></td>
</tr>
<tr>
<td colspan="3"><p>Input for the actor. If it is an object, it will be stringified to
 JSON and its content type set to <code>application/json; charset=utf-8</code>.
 Otherwise the <code>options.contentType</code> parameter must be provided.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"><p>Object with the settings below:</p>
</td></tr><tr>
<td><code>[options.contentType]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Content type for the <code>input</code>. If not specified,
 <code>input</code> is expected to be an object that will be stringified to JSON and content type set to
 <code>application/json; charset=utf-8</code>. If <code>options.contentType</code> is specified, then <code>input</code> must be a
 <code>String</code> or <code>Buffer</code>.</p>
</td></tr><tr>
<td><code>[options.build]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Tag or number of the target actor build to metamorph into (e.g. <code>beta</code> or <code>1.2.345</code>).
 If not provided, the run uses build tag or number from the default actor run configuration (typically <code>latest</code>).</p>
</td></tr></tbody>
</table>
<a name="module_Apify.openDataset"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyopendataset-datasetidorname-options-promise-dataset-dataset"></a><a href="#apifyopendataset-datasetidorname-options-promise-dataset-dataset" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.openDataset([datasetIdOrName], [options])</code> ⇒ <a href="dataset"><code>Promise&lt;Dataset&gt;</code></a></h2>
<p>Opens a dataset and returns a promise resolving to an instance of the <a href="dataset"><code>Dataset</code></a> class.</p>
<p>Datasets are used to store structured data where each object stored has the same attributes, such as online store products or real estate offers. The
actual data is stored either on the local filesystem or in the cloud.</p>
<p>For more details and code examples, see the <a href="dataset"><code>Dataset</code></a> class.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[datasetIdOrName]</code></td><td><code>string</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>ID or name of the dataset to be opened. If <code>null</code> or <code>undefined</code>,
  the function returns the default dataset associated with the actor run.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>object</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>[options.forceCloud]</code></td><td><code>boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then the function uses cloud storage usage even if the <code>APIFY_LOCAL_STORAGE_DIR</code>
  environment variable is set. This way it is possible to combine local and cloud storage.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.openKeyValueStore"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyopenkeyvaluestore-storeidorname-options-promise-keyvaluestore-keyvaluestore"></a><a href="#apifyopenkeyvaluestore-storeidorname-options-promise-keyvaluestore-keyvaluestore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.openKeyValueStore([storeIdOrName], [options])</code> ⇒ <a href="keyvaluestore"><code>Promise&lt;KeyValueStore&gt;</code></a></h2>
<p>Opens a key-value store and returns a promise resolving to an instance of the <a href="keyvaluestore"><code>KeyValueStore</code></a> class.</p>
<p>Key-value stores are used to store records or files, along with their MIME content type. The records are stored and retrieved using a unique key. The
actual data is stored either on a local filesystem or in the Apify cloud.</p>
<p>For more details and code examples, see the <a href="keyvaluestore"><code>KeyValueStore</code></a> class.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[storeIdOrName]</code></td><td><code>string</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>ID or name of the key-value store to be opened. If <code>null</code> or <code>undefined</code>,
  the function returns the default key-value store associated with the actor run.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>object</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>[options.forceCloud]</code></td><td><code>boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then the function uses cloud storage usage even if the <code>APIFY_LOCAL_STORAGE_DIR</code>
  environment variable is set. This way it is possible to combine local and cloud storage.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.openRequestList"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyopenrequestlist-promise-requestlist-requestlist"></a><a href="#apifyopenrequestlist-promise-requestlist-requestlist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.openRequestList</code> ⇒ <a href="requestlist"><code>Promise&lt;RequestList&gt;</code></a></h2>
<p>Opens a request list and returns a promise resolving to an instance of the <a href="requestlist"><code>RequestList</code></a> class that is already initialized.</p>
<p><a href="requestlist"><code>RequestList</code></a> represents a list of URLs to crawl, which is always stored in memory. To enable picking up where left off after a process
restart, the request list sources are persisted to the key value store at initialization of the list. Then, while crawling, a small state object is
regularly persisted to keep track of the crawling status.</p>
<p>For more details and code examples, see the <a href="requestlist"><code>RequestList</code></a> class.</p>
<p><strong>Example usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> sources <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://www.example.com'</span><span class="token punctuation">,</span> <span class="token string">'https://www.google.com'</span><span class="token punctuation">,</span> <span class="token string">'https://www.bing.com'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> requestList <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openRequestList</span><span class="token punctuation">(</span><span class="token string">'my-name'</span><span class="token punctuation">,</span> sources<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>listName</code></td><td><code>string</code> | <code>null</code></td>
</tr>
<tr>
<td colspan="3"><p>Name of the request list to be opened. Setting a name enables the <code>RequestList</code>&#39;s state to be persisted
  in the key value store. This is useful in case of a restart or migration. Since <code>RequestList</code> is only
  stored in memory, a restart or migration wipes it clean. Setting a name will enable the <code>RequestList</code>&#39;s
  state to survive those situations and continue where it left off.</p>
<p>  The name will be used as a prefix in key value store, producing keys such as <code>NAME-REQUEST_LIST_STATE</code>
  and <code>NAME-REQUEST_LIST_SOURCES</code>.</p>
<p>  If <code>null</code>, the list will not be persisted and will only be stored in memory. Process restart
  will then cause the list to be crawled again from the beginning. We suggest always using a name.</p>
</td></tr><tr>
<td><code>sources</code></td><td><code>Array<Object&gt;</code> | <code>Array.&lt;string></code></td>
</tr>
<tr>
<td colspan="3"><p>An array of sources of URLs for the <code>RequestList</code>.
 It can be either an array of plain objects that
 define the <code>url</code> property, or an array of instances of the <a href="request"><code>Request</code></a> class.
 Additionally, the <code>requestsFromUrl</code> property may be used instead of <code>url</code>,
 which will instruct <code>RequestList</code> to download the source URLs from a given remote location.
 The URLs will be parsed from the received response.</p>
<p> For details, see the <a href="requestlist#new_RequestList_new"><code>RequestList</code></a>
 constructor options.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"><p>The <a href="requestlist#new_RequestList_new"><code>new RequestList</code></a> options. Note that the listName parameter supersedes
  the <code>persistStateKey</code> and <code>persistSourcesKey</code> options and the sources parameter supersedes the <code>sources</code> option.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.openRequestQueue"></a>
<h2><a class="anchor" aria-hidden="true" id="apifyopenrequestqueue-promise-requestqueue-requestqueue"></a><a href="#apifyopenrequestqueue-promise-requestqueue-requestqueue" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.openRequestQueue</code> ⇒ <a href="requestqueue"><code>Promise&lt;RequestQueue&gt;</code></a></h2>
<p>Opens a request queue and returns a promise resolving to an instance of the <a href="requestqueue"><code>RequestQueue</code></a> class.</p>
<p><a href="requestqueue"><code>RequestQueue</code></a> represents a queue of URLs to crawl, which is stored either on local filesystem or in the cloud. The queue is used for
deep crawling of websites, where you start with several URLs and then recursively follow links to other pages. The data structure supports both
breadth-first and depth-first crawling orders.</p>
<p>For more details and code examples, see the <a href="requestqueue"><code>RequestQueue</code></a> class.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th><th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[queueIdOrName]</code></td><td><code>string</code></td><td></td>
</tr>
<tr>
<td colspan="3"><p>ID or name of the request queue to be opened. If <code>null</code> or <code>undefined</code>,
  the function returns the default request queue associated with the actor run.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>object</code></td><td></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>[options.forceCloud]</code></td><td><code>boolean</code></td><td><code>false</code></td>
</tr>
<tr>
<td colspan="3"><p>If set to <code>true</code> then the function uses cloud storage usage even if the <code>APIFY_LOCAL_STORAGE_DIR</code>
  environment variable is set. This way it is possible to combine local and cloud storage.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.pushData"></a>
<h2><a class="anchor" aria-hidden="true" id="apifypushdataitem-promise"></a><a href="#apifypushdataitem-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.pushData(item)</code> ⇒ <code>Promise</code></h2>
<p>Stores an object or an array of objects to the default <a href="dataset"><code>Dataset</code></a> of the current actor run.</p>
<p>This is just a convenient shortcut for <a href="dataset#Dataset+pushData"><code>dataset.pushData()</code></a>. For example, calling the following code:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">pushData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> myValue<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>is equivalent to:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openDataset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> dataset<span class="token punctuation">.</span><span class="token function">pushData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> myValue<span class="token punctuation">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>For more information, see <a href="apify#module_Apify.openDataset"><code>Apify.openDataset()</code></a> and <a href="dataset#Dataset+pushData"><code>dataset.pushData()</code></a></p>
<p><strong>IMPORTANT</strong>: Make sure to use the <code>await</code> keyword when calling <code>pushData()</code>, otherwise the actor process might finish before the data are stored!</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>item</code></td><td><code>Object</code> | <code>Array</code></td>
</tr>
<tr>
<td colspan="3"><p>Object or array of objects containing data to be stored in the default dataset.
The objects must be serializable to JSON and the JSON representation of each object must be smaller than 9MB.</p>
</td></tr></tbody>
</table>
<a name="module_Apify.setValue"></a>
<h2><a class="anchor" aria-hidden="true" id="apifysetvaluekey-value-options-promise"></a><a href="#apifysetvaluekey-value-options-promise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>Apify.setValue(key, value, [options])</code> ⇒ <code>Promise</code></h2>
<p>Stores or deletes a value in the default <a href="keyvaluestore"><code>KeyValueStore</code></a> associated with the current actor run.</p>
<p>This is just a convenient shortcut for <a href="keyvaluestore#KeyValueStore+setValue"><code>keyValueStore.setValue()</code></a>. For example, calling the following code:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">'OUTPUT'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>is equivalent to:</p>
<pre><code class="hljs css language-javascript"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">await</span> Apify<span class="token punctuation">.</span><span class="token function">openKeyValueStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">'OUTPUT'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>To get a value from the default-key value store, you can use the <a href="#module_Apify.getValue"><code>Apify.getValue()</code></a> function.</p>
<p>For more information, see <a href="#module_Apify.openKeyValueStore"><code>Apify.openKeyValueStore()</code></a> and
<a href="keyvaluestore#KeyValueStore+getValue"><code>keyValueStore.getValue()</code></a>.</p>
<table>
<thead>
<tr>
<th>Param</th><th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Unique record key.</p>
</td></tr><tr>
<td><code>value</code></td><td><code>Object</code> | <code>String</code> | <code>Buffer</code></td>
</tr>
<tr>
<td colspan="3"><p>Record data, which can be one of the following values:
  <ul>
    <li>If <code>null</code>, the record in the key-value store is deleted.</li>
    <li>If no <code>options.contentType</code> is specified, <code>value</code> can be any JavaScript object and it will be stringified to JSON.</li>
    <li>If <code>options.contentType</code> is specified, <code>value</code> is considered raw data and it must be a <code>String</code>
    or <a href="https://nodejs.org/api/buffer.html" target="_blank"><code>Buffer</code></a>.</li>
  </ul>
  For any other value an error will be thrown.</p>
</td></tr><tr>
<td><code>[options]</code></td><td><code>Object</code></td>
</tr>
<tr>
<td colspan="3"></td></tr><tr>
<td><code>[options.contentType]</code></td><td><code>String</code></td>
</tr>
<tr>
<td colspan="3"><p>Specifies a custom MIME content type of the record.</p>
</td></tr></tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/guides/puppeteerliveview"><span class="arrow-prev">← </span><span>Puppeteer Live View</span></a><a class="docs-next button" href="/docs/api/autoscaledpool"><span class="function-name-prevnext">AutoscaledPool</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#apifyaddwebhookoptions-promise"><code>Apify.addWebhook(options)</code> ⇒ <code>Promise</code></a></li><li><a href="#apifycallactid-input-options-promise"><code>Apify.call(actId, [input], [options])</code> ⇒ <a href="../typedefs/actorrun"><code>Promise</code></a></a></li><li><a href="#apifycalltasktaskid-input-options-promise"><code>Apify.callTask(taskId, [input], [options])</code> ⇒ <a href="../typedefs/actorrun"><code>Promise</code></a></a></li><li><a href="#apifyclient"><code>Apify.client</code></a></li><li><a href="#apifyevents"><code>Apify.events</code></a></li><li><a href="#apifygetapifyproxyurloptions-string"><code>Apify.getApifyProxyUrl(options)</code> ⇒ <code>String</code></a></li><li><a href="#apifygetenv-object"><code>Apify.getEnv()</code> ⇒ <code>Object</code></a></li><li><a href="#apifygetinput-promise"><code>Apify.getInput</code> ⇒ <code>Promise</code></a></li><li><a href="#apifygetmemoryinfo-promise"><code>Apify.getMemoryInfo()</code> ⇒ <code>Promise</code></a></li><li><a href="#apifygetvaluekey-promise"><code>Apify.getValue(key)</code> ⇒ <code>Promise</code></a></li><li><a href="#apifyisathome-boolean"><code>Apify.isAtHome()</code> ⇒ <code>Boolean</code></a></li><li><a href="#apifylaunchpuppeteer-options-promise"><code>Apify.launchPuppeteer([options])</code> ⇒ <code>Promise</code></a></li><li><a href="#apifymainuserfunc"><code>Apify.main(userFunc)</code></a></li><li><a href="#apifymetamorphtargetactorid-input-options-promise"><code>Apify.metamorph(targetActorId, [input], [options])</code> ⇒ <code>Promise</code></a></li><li><a href="#apifyopendataset-datasetidorname-options-promise"><code>Apify.openDataset([datasetIdOrName], [options])</code> ⇒ <a href="dataset"><code>Promise</code></a></a></li><li><a href="#apifyopenkeyvaluestore-storeidorname-options-promise"><code>Apify.openKeyValueStore([storeIdOrName], [options])</code> ⇒ <a href="keyvaluestore"><code>Promise</code></a></a></li><li><a href="#apifyopenrequestlist-promise"><code>Apify.openRequestList</code> ⇒ <a href="requestlist"><code>Promise</code></a></a></li><li><a href="#apifyopenrequestqueue-promise"><code>Apify.openRequestQueue</code> ⇒ <a href="requestqueue"><code>Promise</code></a></a></li><li><a href="#apifypushdataitem-promise"><code>Apify.pushData(item)</code> ⇒ <code>Promise</code></a></li><li><a href="#apifysetvaluekey-value-options-promise"><code>Apify.setValue(key, value, [options])</code> ⇒ <code>Promise</code></a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/apify_logo.svg" alt="Apify SDK" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/guides/motivation">Guide</a><a href="/docs/examples/basiccrawler">Examples</a><a href="/docs/api/apify">Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/apify" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.facebook.com/apifytech" target="_blank" rel="noreferrer noopener">Facebook</a></div><div><h5>More</h5><a href="https://apify.com" target="_blank">Apify Cloud</a><a href="https://docusaurus.io" target="_blank">Docusaurus</a><a href="https://github.com/apifytech/apify-js" target="_blank">GitHub</a></div></section><section class="copyright">Copyright © 2019 Apify Technologies s.r.o.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '64ce2544769e34add0e6402688c86e92',
                indexName: 'apify_sdk',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>